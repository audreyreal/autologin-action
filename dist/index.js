"use strict";var Er=Object.create;var pe=Object.defineProperty;var Or=Object.getOwnPropertyDescriptor;var Tr=Object.getOwnPropertyNames;var xr=Object.getPrototypeOf,Sr=Object.prototype.hasOwnProperty;var b=(t,e)=>()=>(t&&(e=t(t=0)),e);var x=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Rr=(t,e)=>{for(var r in e)pe(t,r,{get:e[r],enumerable:!0})},lt=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Tr(e))!Sr.call(t,i)&&i!==r&&pe(t,i,{get:()=>e[i],enumerable:!(n=Or(e,i))||n.enumerable});return t};var W=(t,e,r)=>(r=t!=null?Er(xr(t)):{},lt(e||!t||!t.__esModule?pe(r,"default",{value:t,enumerable:!0}):r,t)),Ar=t=>lt(pe({},"__esModule",{value:!0}),t);var me=x(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.toCommandProperties=J.toCommandValue=void 0;function Ir(t){return t==null?"":typeof t=="string"||t instanceof String?t:JSON.stringify(t)}J.toCommandValue=Ir;function qr(t){return Object.keys(t).length?{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}:{}}J.toCommandProperties=qr});var pt=x(I=>{"use strict";var Cr=I&&I.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ur=I&&I.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Mr=I&&I.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Cr(e,t,r);return Ur(e,t),e};Object.defineProperty(I,"__esModule",{value:!0});I.issue=I.issueCommand=void 0;var Nr=Mr(require("os")),ht=me();function dt(t,e,r){let n=new Me(t,e,r);process.stdout.write(n.toString()+Nr.EOL)}I.issueCommand=dt;function Dr(t,e=""){dt(t,{},e)}I.issue=Dr;var ft="::",Me=class{constructor(e,r,n){e||(e="missing.command"),this.command=e,this.properties=r,this.message=n}toString(){let e=ft+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let i=this.properties[n];i&&(r?r=!1:e+=",",e+=`${n}=${kr(i)}`)}}return e+=`${ft}${$r(this.message)}`,e}};function $r(t){return ht.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function kr(t){return ht.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function re(){return ve>_e.length-16&&(mt.default.randomFillSync(_e),ve=0),_e.slice(ve,ve+=16)}var mt,_e,ve,Ne=b(()=>{mt=W(require("crypto")),_e=new Uint8Array(256),ve=_e.length});var vt,_t=b(()=>{vt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Br(t){return typeof t=="string"&&vt.test(t)}var k,ne=b(()=>{_t();k=Br});function jr(t,e=0){let r=(w[t[e+0]]+w[t[e+1]]+w[t[e+2]]+w[t[e+3]]+"-"+w[t[e+4]]+w[t[e+5]]+"-"+w[t[e+6]]+w[t[e+7]]+"-"+w[t[e+8]]+w[t[e+9]]+"-"+w[t[e+10]]+w[t[e+11]]+w[t[e+12]]+w[t[e+13]]+w[t[e+14]]+w[t[e+15]]).toLowerCase();if(!k(r))throw TypeError("Stringified UUID is invalid");return r}var w,B,ie=b(()=>{ne();w=[];for(let t=0;t<256;++t)w.push((t+256).toString(16).substr(1));B=jr});function Lr(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let s=t.node||gt,o=t.clockseq!==void 0?t.clockseq:De;if(s==null||o==null){let p=t.random||(t.rng||re)();s==null&&(s=gt=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),o==null&&(o=De=(p[6]<<8|p[7])&16383)}let c=t.msecs!==void 0?t.msecs:Date.now(),a=t.nsecs!==void 0?t.nsecs:ke+1,u=c-$e+(a-ke)/1e4;if(u<0&&t.clockseq===void 0&&(o=o+1&16383),(u<0||c>$e)&&t.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");$e=c,ke=a,De=o,c+=122192928e5;let l=((c&268435455)*1e4+a)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;let f=c/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let p=0;p<6;++p)i[n+p]=s[p];return e||B(i)}var gt,De,$e,ke,wt,yt=b(()=>{Ne();ie();$e=0,ke=0;wt=Lr});function Fr(t){if(!k(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var ge,Be=b(()=>{ne();ge=Fr});function Qr(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function we(t,e,r){function n(i,s,o,c){if(typeof i=="string"&&(i=Qr(i)),typeof s=="string"&&(s=ge(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+i.length);if(a.set(s),a.set(i,s.length),a=r(a),a[6]=a[6]&15|e,a[8]=a[8]&63|128,o){c=c||0;for(let u=0;u<16;++u)o[c+u]=a[u];return o}return B(a)}try{n.name=t}catch{}return n.DNS=Vr,n.URL=Gr,n}var Vr,Gr,je=b(()=>{ie();Be();Vr="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Gr="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function zr(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),bt.default.createHash("md5").update(t).digest()}var bt,Pt,Et=b(()=>{bt=W(require("crypto"));Pt=zr});var Wr,Ot,Tt=b(()=>{je();Et();Wr=we("v3",48,Pt),Ot=Wr});function Jr(t,e,r){t=t||{};let n=t.random||(t.rng||re)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return B(n)}var xt,St=b(()=>{Ne();ie();xt=Jr});function Kr(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),Rt.default.createHash("sha1").update(t).digest()}var Rt,At,It=b(()=>{Rt=W(require("crypto"));At=Kr});var Yr,qt,Ct=b(()=>{je();It();Yr=we("v5",80,At),qt=Yr});var Ut,Mt=b(()=>{Ut="00000000-0000-0000-0000-000000000000"});function Hr(t){if(!k(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var Nt,Dt=b(()=>{ne();Nt=Hr});var $t={};Rr($t,{NIL:()=>Ut,parse:()=>ge,stringify:()=>B,v1:()=>wt,v3:()=>Ot,v4:()=>xt,v5:()=>qt,validate:()=>k,version:()=>Nt});var kt=b(()=>{yt();Tt();St();Ct();Mt();Dt();ne();ie();Be()});var Ft=x(q=>{"use strict";var Xr=q&&q.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Zr=q&&q.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jt=q&&q.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Xr(e,t,r);return Zr(e,t),e};Object.defineProperty(q,"__esModule",{value:!0});q.prepareKeyValueMessage=q.issueFileCommand=void 0;var Bt=jt(require("fs")),Le=jt(require("os")),en=(kt(),Ar($t)),Lt=me();function tn(t,e){let r=process.env[`GITHUB_${t}`];if(!r)throw new Error(`Unable to find environment variable for file command ${t}`);if(!Bt.existsSync(r))throw new Error(`Missing file at path: ${r}`);Bt.appendFileSync(r,`${Lt.toCommandValue(e)}${Le.EOL}`,{encoding:"utf8"})}q.issueFileCommand=tn;function rn(t,e){let r=`ghadelimiter_${en.v4()}`,n=Lt.toCommandValue(e);if(t.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${t}<<${r}${Le.EOL}${n}${Le.EOL}${r}`}q.prepareKeyValueMessage=rn});var Vt=x(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.checkBypass=K.getProxyUrl=void 0;function nn(t){let e=t.protocol==="https:";if(Qt(t))return;let r=(()=>e?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}K.getProxyUrl=nn;function Qt(t){if(!t.hostname)return!1;let e=process.env.no_proxy||process.env.NO_PROXY||"";if(!e)return!1;let r;t.port?r=Number(t.port):t.protocol==="http:"?r=80:t.protocol==="https:"&&(r=443);let n=[t.hostname.toUpperCase()];typeof r=="number"&&n.push(`${n[0]}:${r}`);for(let i of e.split(",").map(s=>s.trim().toUpperCase()).filter(s=>s))if(n.some(s=>s===i))return!0;return!1}K.checkBypass=Qt});var Jt=x(Y=>{"use strict";var rs=require("net"),sn=require("tls"),Fe=require("http"),Gt=require("https"),on=require("events"),ns=require("assert"),an=require("util");Y.httpOverHttp=un;Y.httpsOverHttp=cn;Y.httpOverHttps=ln;Y.httpsOverHttps=fn;function un(t){var e=new D(t);return e.request=Fe.request,e}function cn(t){var e=new D(t);return e.request=Fe.request,e.createSocket=zt,e.defaultPort=443,e}function ln(t){var e=new D(t);return e.request=Gt.request,e}function fn(t){var e=new D(t);return e.request=Gt.request,e.createSocket=zt,e.defaultPort=443,e}function D(t){var e=this;e.options=t||{},e.proxyOptions=e.options.proxy||{},e.maxSockets=e.options.maxSockets||Fe.Agent.defaultMaxSockets,e.requests=[],e.sockets=[],e.on("free",function(n,i,s,o){for(var c=Wt(i,s,o),a=0,u=e.requests.length;a<u;++a){var l=e.requests[a];if(l.host===c.host&&l.port===c.port){e.requests.splice(a,1),l.request.onSocket(n);return}}n.destroy(),e.removeSocket(n)})}an.inherits(D,on.EventEmitter);D.prototype.addRequest=function(e,r,n,i){var s=this,o=Qe({request:e},s.options,Wt(r,n,i));if(s.sockets.length>=this.maxSockets){s.requests.push(o);return}s.createSocket(o,function(c){c.on("free",a),c.on("close",u),c.on("agentRemove",u),e.onSocket(c);function a(){s.emit("free",c,o)}function u(l){s.removeSocket(c),c.removeListener("free",a),c.removeListener("close",u),c.removeListener("agentRemove",u)}})};D.prototype.createSocket=function(e,r){var n=this,i={};n.sockets.push(i);var s=Qe({},n.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(s.localAddress=e.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),j("making CONNECT request");var o=n.request(s);o.useChunkedEncodingByDefault=!1,o.once("response",c),o.once("upgrade",a),o.once("connect",u),o.once("error",l),o.end();function c(f){f.upgrade=!0}function a(f,p,A){process.nextTick(function(){u(f,p,A)})}function u(f,p,A){if(o.removeAllListeners(),p.removeAllListeners(),f.statusCode!==200){j("tunneling socket could not be established, statusCode=%d",f.statusCode),p.destroy();var te=new Error("tunneling socket could not be established, statusCode="+f.statusCode);te.code="ECONNRESET",e.request.emit("error",te),n.removeSocket(i);return}if(A.length>0){j("got illegal response body from proxy"),p.destroy();var te=new Error("got illegal response body from proxy");te.code="ECONNRESET",e.request.emit("error",te),n.removeSocket(i);return}return j("tunneling connection has established"),n.sockets[n.sockets.indexOf(i)]=p,r(p)}function l(f){o.removeAllListeners(),j(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var p=new Error("tunneling socket could not be established, cause="+f.message);p.code="ECONNRESET",e.request.emit("error",p),n.removeSocket(i)}};D.prototype.removeSocket=function(e){var r=this.sockets.indexOf(e);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(i){n.request.onSocket(i)})}};function zt(t,e){var r=this;D.prototype.createSocket.call(r,t,function(n){var i=t.request.getHeader("host"),s=Qe({},r.options,{socket:n,servername:i?i.replace(/:.*$/,""):t.host}),o=sn.connect(0,s);r.sockets[r.sockets.indexOf(n)]=o,e(o)})}function Wt(t,e,r){return typeof t=="string"?{host:t,port:e,localAddress:r}:t}function Qe(t){for(var e=1,r=arguments.length;e<r;++e){var n=arguments[e];if(typeof n=="object")for(var i=Object.keys(n),s=0,o=i.length;s<o;++s){var c=i[s];n[c]!==void 0&&(t[c]=n[c])}}return t}var j;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?j=function(){var t=Array.prototype.slice.call(arguments);typeof t[0]=="string"?t[0]="TUNNEL: "+t[0]:t.unshift("TUNNEL:"),console.error.apply(console,t)}:j=function(){};Y.debug=j});var Yt=x((ss,Kt)=>{Kt.exports=Jt()});var ze=x(m=>{"use strict";var hn=m&&m.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dn=m&&m.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Oe=m&&m.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&hn(e,t,r);return dn(e,t),e},g=m&&m.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(l){try{u(n.next(l))}catch(f){o(f)}}function a(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(c,a)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(m,"__esModule",{value:!0});m.HttpClient=m.isHttps=m.HttpClientResponse=m.HttpClientError=m.getProxyUrl=m.MediaTypes=m.Headers=m.HttpCodes=void 0;var ye=Oe(require("http")),Ve=Oe(require("https")),Ht=Oe(Vt()),be=Oe(Yt()),U;(function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"})(U=m.HttpCodes||(m.HttpCodes={}));var P;(function(t){t.Accept="accept",t.ContentType="content-type"})(P=m.Headers||(m.Headers={}));var L;(function(t){t.ApplicationJson="application/json"})(L=m.MediaTypes||(m.MediaTypes={}));function pn(t){let e=Ht.getProxyUrl(new URL(t));return e?e.href:""}m.getProxyUrl=pn;var mn=[U.MovedPermanently,U.ResourceMoved,U.SeeOther,U.TemporaryRedirect,U.PermanentRedirect],vn=[U.BadGateway,U.ServiceUnavailable,U.GatewayTimeout],_n=["OPTIONS","GET","DELETE","HEAD"],gn=10,wn=5,H=class extends Error{constructor(e,r){super(e),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,H.prototype)}};m.HttpClientError=H;var Ee=class{constructor(e){this.message=e}readBody(){return g(this,void 0,void 0,function*(){return new Promise(e=>g(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{e(r.toString())})}))})}};m.HttpClientResponse=Ee;function yn(t){return new URL(t).protocol==="https:"}m.isHttps=yn;var Ge=class{constructor(e,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(e,r){return g(this,void 0,void 0,function*(){return this.request("OPTIONS",e,null,r||{})})}get(e,r){return g(this,void 0,void 0,function*(){return this.request("GET",e,null,r||{})})}del(e,r){return g(this,void 0,void 0,function*(){return this.request("DELETE",e,null,r||{})})}post(e,r,n){return g(this,void 0,void 0,function*(){return this.request("POST",e,r,n||{})})}patch(e,r,n){return g(this,void 0,void 0,function*(){return this.request("PATCH",e,r,n||{})})}put(e,r,n){return g(this,void 0,void 0,function*(){return this.request("PUT",e,r,n||{})})}head(e,r){return g(this,void 0,void 0,function*(){return this.request("HEAD",e,null,r||{})})}sendStream(e,r,n,i){return g(this,void 0,void 0,function*(){return this.request(e,r,n,i)})}getJson(e,r={}){return g(this,void 0,void 0,function*(){r[P.Accept]=this._getExistingOrDefaultHeader(r,P.Accept,L.ApplicationJson);let n=yield this.get(e,r);return this._processResponse(n,this.requestOptions)})}postJson(e,r,n={}){return g(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[P.Accept]=this._getExistingOrDefaultHeader(n,P.Accept,L.ApplicationJson),n[P.ContentType]=this._getExistingOrDefaultHeader(n,P.ContentType,L.ApplicationJson);let s=yield this.post(e,i,n);return this._processResponse(s,this.requestOptions)})}putJson(e,r,n={}){return g(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[P.Accept]=this._getExistingOrDefaultHeader(n,P.Accept,L.ApplicationJson),n[P.ContentType]=this._getExistingOrDefaultHeader(n,P.ContentType,L.ApplicationJson);let s=yield this.put(e,i,n);return this._processResponse(s,this.requestOptions)})}patchJson(e,r,n={}){return g(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[P.Accept]=this._getExistingOrDefaultHeader(n,P.Accept,L.ApplicationJson),n[P.ContentType]=this._getExistingOrDefaultHeader(n,P.ContentType,L.ApplicationJson);let s=yield this.patch(e,i,n);return this._processResponse(s,this.requestOptions)})}request(e,r,n,i){return g(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),o=this._prepareRequest(e,s,i),c=this._allowRetries&&_n.includes(e)?this._maxRetries+1:1,a=0,u;do{if(u=yield this.requestRaw(o,n),u&&u.message&&u.message.statusCode===U.Unauthorized){let f;for(let p of this.handlers)if(p.canHandleAuthentication(u)){f=p;break}return f?f.handleAuthentication(this,o,n):u}let l=this._maxRedirects;for(;u.message.statusCode&&mn.includes(u.message.statusCode)&&this._allowRedirects&&l>0;){let f=u.message.headers.location;if(!f)break;let p=new URL(f);if(s.protocol==="https:"&&s.protocol!==p.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield u.readBody(),p.hostname!==s.hostname)for(let A in i)A.toLowerCase()==="authorization"&&delete i[A];o=this._prepareRequest(e,p,i),u=yield this.requestRaw(o,n),l--}if(!u.message.statusCode||!vn.includes(u.message.statusCode))return u;a+=1,a<c&&(yield u.readBody(),yield this._performExponentialBackoff(a))}while(a<c);return u})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,r){return g(this,void 0,void 0,function*(){return new Promise((n,i)=>{function s(o,c){o?i(o):c?n(c):i(new Error("Unknown error"))}this.requestRawWithCallback(e,r,s)})})}requestRawWithCallback(e,r,n){typeof r=="string"&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let i=!1;function s(a,u){i||(i=!0,n(a,u))}let o=e.httpModule.request(e.options,a=>{let u=new Ee(a);s(void 0,u)}),c;o.on("socket",a=>{c=a}),o.setTimeout(this._socketTimeout||3*6e4,()=>{c&&c.end(),s(new Error(`Request timeout: ${e.options.path}`))}),o.on("error",function(a){s(a)}),r&&typeof r=="string"&&o.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){o.end()}),r.pipe(o)):o.end()}getAgent(e){let r=new URL(e);return this._getAgent(r)}_prepareRequest(e,r,n){let i={};i.parsedUrl=r;let s=i.parsedUrl.protocol==="https:";i.httpModule=s?Ve:ye;let o=s?443:80;if(i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):o,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=e,i.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers)for(let c of this.handlers)c.prepareRequest(i.options);return i}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Pe(this.requestOptions.headers),Pe(e||{})):Pe(e||{})}_getExistingOrDefaultHeader(e,r,n){let i;return this.requestOptions&&this.requestOptions.headers&&(i=Pe(this.requestOptions.headers)[r]),e[r]||i||n}_getAgent(e){let r,n=Ht.getProxyUrl(e),i=n&&n.hostname;if(this._keepAlive&&i&&(r=this._proxyAgent),this._keepAlive&&!i&&(r=this._agent),r)return r;let s=e.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||ye.globalAgent.maxSockets),n&&n.hostname){let c={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},a,u=n.protocol==="https:";s?a=u?be.httpsOverHttps:be.httpsOverHttp:a=u?be.httpOverHttps:be.httpOverHttp,r=a(c),this._proxyAgent=r}if(this._keepAlive&&!r){let c={keepAlive:this._keepAlive,maxSockets:o};r=s?new Ve.Agent(c):new ye.Agent(c),this._agent=r}return r||(r=s?Ve.globalAgent:ye.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(e){return g(this,void 0,void 0,function*(){e=Math.min(gn,e);let r=wn*Math.pow(2,e);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(e,r){return g(this,void 0,void 0,function*(){return new Promise((n,i)=>g(this,void 0,void 0,function*(){let s=e.message.statusCode||0,o={statusCode:s,result:null,headers:{}};s===U.NotFound&&n(o);function c(l,f){if(typeof f=="string"){let p=new Date(f);if(!isNaN(p.valueOf()))return p}return f}let a,u;try{u=yield e.readBody(),u&&u.length>0&&(r&&r.deserializeDates?a=JSON.parse(u,c):a=JSON.parse(u),o.result=a),o.headers=e.message.headers}catch{}if(s>299){let l;a&&a.message?l=a.message:u&&u.length>0?l=u:l=`Failed request: (${s})`;let f=new H(l,s);f.result=o.result,i(f)}else n(o)}))})}};m.HttpClient=Ge;var Pe=t=>Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{})});var Xt=x(N=>{"use strict";var Ye=N&&N.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(l){try{u(n.next(l))}catch(f){o(f)}}function a(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(c,a)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(N,"__esModule",{value:!0});N.PersonalAccessTokenCredentialHandler=N.BearerCredentialHandler=N.BasicCredentialHandler=void 0;var We=class{constructor(e,r){this.username=e,this.password=r}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Ye(this,void 0,void 0,function*(){throw new Error("not implemented")})}};N.BasicCredentialHandler=We;var Je=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return Ye(this,void 0,void 0,function*(){throw new Error("not implemented")})}};N.BearerCredentialHandler=Je;var Ke=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Ye(this,void 0,void 0,function*(){throw new Error("not implemented")})}};N.PersonalAccessTokenCredentialHandler=Ke});var tr=x(X=>{"use strict";var Zt=X&&X.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(l){try{u(n.next(l))}catch(f){o(f)}}function a(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(c,a)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(X,"__esModule",{value:!0});X.OidcClient=void 0;var bn=ze(),Pn=Xt(),er=He(),F=class{static createHttpClient(e=!0,r=10){let n={allowRetries:e,maxRetries:r};return new bn.HttpClient("actions/oidc-client",[new Pn.BearerCredentialHandler(F.getRequestToken())],n)}static getRequestToken(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var r;return Zt(this,void 0,void 0,function*(){let s=(r=(yield F.createHttpClient().getJson(e).catch(o=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${o.statusCode}
 
        Error Message: ${o.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(e){return Zt(this,void 0,void 0,function*(){try{let r=F.getIDTokenUrl();if(e){let i=encodeURIComponent(e);r=`${r}&audience=${i}`}er.debug(`ID token url is ${r}`);let n=yield F.getCall(r);return er.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};X.OidcClient=F});var tt=x(O=>{"use strict";var Xe=O&&O.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(l){try{u(n.next(l))}catch(f){o(f)}}function a(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(c,a)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(O,"__esModule",{value:!0});O.summary=O.markdownSummary=O.SUMMARY_DOCS_URL=O.SUMMARY_ENV_VAR=void 0;var En=require("os"),Ze=require("fs"),{access:On,appendFile:Tn,writeFile:xn}=Ze.promises;O.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";O.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var et=class{constructor(){this._buffer=""}filePath(){return Xe(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let e=process.env[O.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${O.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield On(e,Ze.constants.R_OK|Ze.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,r,n={}){let i=Object.entries(n).map(([s,o])=>` ${s}="${o}"`).join("");return r?`<${e}${i}>${r}</${e}>`:`<${e}${i}>`}write(e){return Xe(this,void 0,void 0,function*(){let r=!!e?.overwrite,n=yield this.filePath();return yield(r?xn:Tn)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return Xe(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(e,r=!1){return this._buffer+=e,r?this.addEOL():this}addEOL(){return this.addRaw(En.EOL)}addCodeBlock(e,r){let n=Object.assign({},r&&{lang:r}),i=this.wrap("pre",this.wrap("code",e),n);return this.addRaw(i).addEOL()}addList(e,r=!1){let n=r?"ol":"ul",i=e.map(o=>this.wrap("li",o)).join(""),s=this.wrap(n,i);return this.addRaw(s).addEOL()}addTable(e){let r=e.map(i=>{let s=i.map(o=>{if(typeof o=="string")return this.wrap("td",o);let{header:c,data:a,colspan:u,rowspan:l}=o,f=c?"th":"td",p=Object.assign(Object.assign({},u&&{colspan:u}),l&&{rowspan:l});return this.wrap(f,a,p)}).join("");return this.wrap("tr",s)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(e,r){let n=this.wrap("details",this.wrap("summary",e)+r);return this.addRaw(n).addEOL()}addImage(e,r,n){let{width:i,height:s}=n||{},o=Object.assign(Object.assign({},i&&{width:i}),s&&{height:s}),c=this.wrap("img",null,Object.assign({src:e,alt:r},o));return this.addRaw(c).addEOL()}addHeading(e,r){let n=`h${r}`,i=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",s=this.wrap(i,e);return this.addRaw(s).addEOL()}addSeparator(){let e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){let e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,r){let n=Object.assign({},r&&{cite:r}),i=this.wrap("blockquote",e,n);return this.addRaw(i).addEOL()}addLink(e,r){let n=this.wrap("a",e,{href:r});return this.addRaw(n).addEOL()}},rr=new et;O.markdownSummary=rr;O.summary=rr});var nr=x(T=>{"use strict";var Sn=T&&T.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Rn=T&&T.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),An=T&&T.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Sn(e,t,r);return Rn(e,t),e};Object.defineProperty(T,"__esModule",{value:!0});T.toPlatformPath=T.toWin32Path=T.toPosixPath=void 0;var In=An(require("path"));function qn(t){return t.replace(/[\\]/g,"/")}T.toPosixPath=qn;function Cn(t){return t.replace(/[/]/g,"\\")}T.toWin32Path=Cn;function Un(t){return t.replace(/[/\\]/g,In.sep)}T.toPlatformPath=Un});var He=x(d=>{"use strict";var Mn=d&&d.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Nn=d&&d.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ir=d&&d.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Mn(e,t,r);return Nn(e,t),e},sr=d&&d.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(l){try{u(n.next(l))}catch(f){o(f)}}function a(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(c,a)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(d,"__esModule",{value:!0});d.getIDToken=d.getState=d.saveState=d.group=d.endGroup=d.startGroup=d.info=d.notice=d.warning=d.error=d.debug=d.isDebug=d.setFailed=d.setCommandEcho=d.setOutput=d.getBooleanInput=d.getMultilineInput=d.getInput=d.addPath=d.setSecret=d.exportVariable=d.ExitCode=void 0;var C=pt(),G=Ft(),Z=me(),or=ir(require("os")),Dn=ir(require("path")),$n=tr(),ar;(function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"})(ar=d.ExitCode||(d.ExitCode={}));function kn(t,e){let r=Z.toCommandValue(e);if(process.env[t]=r,process.env.GITHUB_ENV||"")return G.issueFileCommand("ENV",G.prepareKeyValueMessage(t,e));C.issueCommand("set-env",{name:t},r)}d.exportVariable=kn;function Bn(t){C.issueCommand("add-mask",{},t)}d.setSecret=Bn;function jn(t){process.env.GITHUB_PATH||""?G.issueFileCommand("PATH",t):C.issueCommand("add-path",{},t),process.env.PATH=`${t}${Dn.delimiter}${process.env.PATH}`}d.addPath=jn;function rt(t,e){let r=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!r)throw new Error(`Input required and not supplied: ${t}`);return e&&e.trimWhitespace===!1?r:r.trim()}d.getInput=rt;function Ln(t,e){let r=rt(t,e).split(`
`).filter(n=>n!=="");return e&&e.trimWhitespace===!1?r:r.map(n=>n.trim())}d.getMultilineInput=Ln;function Fn(t,e){let r=["true","True","TRUE"],n=["false","False","FALSE"],i=rt(t,e);if(r.includes(i))return!0;if(n.includes(i))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}d.getBooleanInput=Fn;function Qn(t,e){if(process.env.GITHUB_OUTPUT||"")return G.issueFileCommand("OUTPUT",G.prepareKeyValueMessage(t,e));process.stdout.write(or.EOL),C.issueCommand("set-output",{name:t},Z.toCommandValue(e))}d.setOutput=Qn;function Vn(t){C.issue("echo",t?"on":"off")}d.setCommandEcho=Vn;function Gn(t){process.exitCode=ar.Failure,ur(t)}d.setFailed=Gn;function zn(){return process.env.RUNNER_DEBUG==="1"}d.isDebug=zn;function Wn(t){C.issueCommand("debug",{},t)}d.debug=Wn;function ur(t,e={}){C.issueCommand("error",Z.toCommandProperties(e),t instanceof Error?t.toString():t)}d.error=ur;function Jn(t,e={}){C.issueCommand("warning",Z.toCommandProperties(e),t instanceof Error?t.toString():t)}d.warning=Jn;function Kn(t,e={}){C.issueCommand("notice",Z.toCommandProperties(e),t instanceof Error?t.toString():t)}d.notice=Kn;function Yn(t){process.stdout.write(t+or.EOL)}d.info=Yn;function cr(t){C.issue("group",t)}d.startGroup=cr;function lr(){C.issue("endgroup")}d.endGroup=lr;function Hn(t,e){return sr(this,void 0,void 0,function*(){cr(t);let r;try{r=yield e()}finally{lr()}return r})}d.group=Hn;function Xn(t,e){if(process.env.GITHUB_STATE||"")return G.issueFileCommand("STATE",G.prepareKeyValueMessage(t,e));C.issueCommand("save-state",{name:t},Z.toCommandValue(e))}d.saveState=Xn;function Zn(t){return process.env[`STATE_${t}`]||""}d.getState=Zn;function ei(t){return sr(this,void 0,void 0,function*(){return yield $n.OidcClient.getIDToken(t)})}d.getIDToken=ei;var ti=tt();Object.defineProperty(d,"summary",{enumerable:!0,get:function(){return ti.summary}});var ri=tt();Object.defineProperty(d,"markdownSummary",{enumerable:!0,get:function(){return ri.markdownSummary}});var nt=nr();Object.defineProperty(d,"toPosixPath",{enumerable:!0,get:function(){return nt.toPosixPath}});Object.defineProperty(d,"toWin32Path",{enumerable:!0,get:function(){return nt.toWin32Path}});Object.defineProperty(d,"toPlatformPath",{enumerable:!0,get:function(){return nt.toPlatformPath}})});var hr=x((hs,it)=>{"use strict";var ni=Object.prototype.hasOwnProperty,E="~";function se(){}Object.create&&(se.prototype=Object.create(null),new se().__proto__||(E=!1));function ii(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function fr(t,e,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new ii(r,n||t,i),o=E?E+e:e;return t._events[o]?t._events[o].fn?t._events[o]=[t._events[o],s]:t._events[o].push(s):(t._events[o]=s,t._eventsCount++),t}function Te(t,e){--t._eventsCount===0?t._events=new se:delete t._events[e]}function y(){this._events=new se,this._eventsCount=0}y.prototype.eventNames=function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)ni.call(r,n)&&e.push(E?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};y.prototype.listeners=function(e){var r=E?E+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o};y.prototype.listenerCount=function(e){var r=E?E+e:e,n=this._events[r];return n?n.fn?1:n.length:0};y.prototype.emit=function(e,r,n,i,s,o){var c=E?E+e:e;if(!this._events[c])return!1;var a=this._events[c],u=arguments.length,l,f;if(a.fn){switch(a.once&&this.removeListener(e,a.fn,void 0,!0),u){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,r),!0;case 3:return a.fn.call(a.context,r,n),!0;case 4:return a.fn.call(a.context,r,n,i),!0;case 5:return a.fn.call(a.context,r,n,i,s),!0;case 6:return a.fn.call(a.context,r,n,i,s,o),!0}for(f=1,l=new Array(u-1);f<u;f++)l[f-1]=arguments[f];a.fn.apply(a.context,l)}else{var p=a.length,A;for(f=0;f<p;f++)switch(a[f].once&&this.removeListener(e,a[f].fn,void 0,!0),u){case 1:a[f].fn.call(a[f].context);break;case 2:a[f].fn.call(a[f].context,r);break;case 3:a[f].fn.call(a[f].context,r,n);break;case 4:a[f].fn.call(a[f].context,r,n,i);break;default:if(!l)for(A=1,l=new Array(u-1);A<u;A++)l[A-1]=arguments[A];a[f].fn.apply(a[f].context,l)}}return!0};y.prototype.on=function(e,r,n){return fr(this,e,r,n,!1)};y.prototype.once=function(e,r,n){return fr(this,e,r,n,!0)};y.prototype.removeListener=function(e,r,n,i){var s=E?E+e:e;if(!this._events[s])return this;if(!r)return Te(this,s),this;var o=this._events[s];if(o.fn)o.fn===r&&(!i||o.once)&&(!n||o.context===n)&&Te(this,s);else{for(var c=0,a=[],u=o.length;c<u;c++)(o[c].fn!==r||i&&!o[c].once||n&&o[c].context!==n)&&a.push(o[c]);a.length?this._events[s]=a.length===1?a[0]:a:Te(this,s)}return this};y.prototype.removeAllListeners=function(e){var r;return e?(r=E?E+e:e,this._events[r]&&Te(this,r)):(this._events=new se,this._eventsCount=0),this};y.prototype.off=y.prototype.removeListener;y.prototype.addListener=y.prototype.on;y.prefixed=E;y.EventEmitter=y;typeof it<"u"&&(it.exports=y)});var ee=W(He(),1),Pr=W(ze(),1);var br=W(hr(),1);var oe=class extends Error{constructor(e){super(e),this.name="TimeoutError"}},st=class extends Error{constructor(e){super(),this.name="AbortError",this.message=e}},dr=t=>globalThis.DOMException===void 0?new st(t):new DOMException(t),pr=t=>{let e=t.reason===void 0?dr("This operation was aborted."):t.reason;return e instanceof Error?e:dr(e)};function ot(t,e,r,n){let i,s=new Promise((o,c)=>{if(typeof e!="number"||Math.sign(e)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(e===Number.POSITIVE_INFINITY){o(t);return}if(n={customTimers:{setTimeout,clearTimeout},...n},n.signal){let{signal:a}=n;a.aborted&&c(pr(a)),a.addEventListener("abort",()=>{c(pr(a))})}i=n.customTimers.setTimeout.call(void 0,()=>{if(typeof r=="function"){try{o(r())}catch(l){c(l)}return}let a=typeof r=="string"?r:`Promise timed out after ${e} milliseconds`,u=r instanceof Error?r:new oe(a);typeof t.cancel=="function"&&t.cancel(),c(u)},e),(async()=>{try{o(await t)}catch(a){c(a)}finally{n.customTimers.clearTimeout.call(void 0,i)}})()});return s.clear=()=>{clearTimeout(i),i=void 0},s}function at(t,e,r){let n=0,i=t.length;for(;i>0;){let s=Math.trunc(i/2),o=n+s;r(t[o],e)<=0?(n=++o,i-=s+1):i=s}return n}var z=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},$,ae=class{constructor(){$.set(this,[])}enqueue(e,r){r={priority:0,...r};let n={priority:r.priority,run:e};if(this.size&&z(this,$,"f")[this.size-1].priority>=r.priority){z(this,$,"f").push(n);return}let i=at(z(this,$,"f"),n,(s,o)=>o.priority-s.priority);z(this,$,"f").splice(i,0,n)}dequeue(){let e=z(this,$,"f").shift();return e?.run}filter(e){return z(this,$,"f").filter(r=>r.priority===e.priority).map(r=>r.run)}get size(){return z(this,$,"f").length}};$=new WeakMap;var v=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},h=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},_,ce,le,V,qe,fe,xe,M,ue,S,Se,R,he,Q,Re,mr,vr,wr,_r,gr,Ae,ut,ct,Ce,yr,Ie,Ue=class extends Error{},de=class extends br.default{constructor(e){var r,n,i,s;if(super(),_.add(this),ce.set(this,void 0),le.set(this,void 0),V.set(this,0),qe.set(this,void 0),fe.set(this,void 0),xe.set(this,0),M.set(this,void 0),ue.set(this,void 0),S.set(this,void 0),Se.set(this,void 0),R.set(this,0),he.set(this,void 0),Q.set(this,void 0),Re.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:ae,...e},!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=e.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof e.interval})`);v(this,ce,e.carryoverConcurrencyCount,"f"),v(this,le,e.intervalCap===Number.POSITIVE_INFINITY||e.interval===0,"f"),v(this,qe,e.intervalCap,"f"),v(this,fe,e.interval,"f"),v(this,S,new e.queueClass,"f"),v(this,Se,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,v(this,Re,e.throwOnTimeout===!0,"f"),v(this,Q,e.autoStart===!1,"f")}get concurrency(){return h(this,he,"f")}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);v(this,he,e,"f"),h(this,_,"m",Ce).call(this)}async add(e,r={}){return r={timeout:this.timeout,throwOnTimeout:h(this,Re,"f"),...r},new Promise((n,i)=>{h(this,S,"f").enqueue(async()=>{var s,o,c;v(this,R,(o=h(this,R,"f"),o++,o),"f"),v(this,V,(c=h(this,V,"f"),c++,c),"f");try{if(!((s=r.signal)===null||s===void 0)&&s.aborted)throw new Ue("The task was aborted.");let a=e({signal:r.signal});r.timeout&&(a=ot(Promise.resolve(a),r.timeout)),r.signal&&(a=Promise.race([a,h(this,_,"m",yr).call(this,r.signal)]));let u=await a;n(u),this.emit("completed",u)}catch(a){if(a instanceof oe&&!r.throwOnTimeout){n();return}i(a),this.emit("error",a)}finally{h(this,_,"m",wr).call(this)}},r),this.emit("add"),h(this,_,"m",Ae).call(this)})}async addAll(e,r){return Promise.all(e.map(async n=>this.add(n,r)))}start(){return h(this,Q,"f")?(v(this,Q,!1,"f"),h(this,_,"m",Ce).call(this),this):this}pause(){v(this,Q,!0,"f")}clear(){v(this,S,new(h(this,Se,"f")),"f")}async onEmpty(){h(this,S,"f").size!==0&&await h(this,_,"m",Ie).call(this,"empty")}async onSizeLessThan(e){h(this,S,"f").size<e||await h(this,_,"m",Ie).call(this,"next",()=>h(this,S,"f").size<e)}async onIdle(){h(this,R,"f")===0&&h(this,S,"f").size===0||await h(this,_,"m",Ie).call(this,"idle")}get size(){return h(this,S,"f").size}sizeBy(e){return h(this,S,"f").filter(e).length}get pending(){return h(this,R,"f")}get isPaused(){return h(this,Q,"f")}};ce=new WeakMap,le=new WeakMap,V=new WeakMap,qe=new WeakMap,fe=new WeakMap,xe=new WeakMap,M=new WeakMap,ue=new WeakMap,S=new WeakMap,Se=new WeakMap,R=new WeakMap,he=new WeakMap,Q=new WeakMap,Re=new WeakMap,_=new WeakSet,mr=function(){return h(this,le,"f")||h(this,V,"f")<h(this,qe,"f")},vr=function(){return h(this,R,"f")<h(this,he,"f")},wr=function(){var e;v(this,R,(e=h(this,R,"f"),e--,e),"f"),h(this,_,"m",Ae).call(this),this.emit("next")},_r=function(){h(this,_,"m",ct).call(this),h(this,_,"m",ut).call(this),v(this,ue,void 0,"f")},gr=function(){let e=Date.now();if(h(this,M,"f")===void 0){let r=h(this,xe,"f")-e;if(r<0)v(this,V,h(this,ce,"f")?h(this,R,"f"):0,"f");else return h(this,ue,"f")===void 0&&v(this,ue,setTimeout(()=>{h(this,_,"m",_r).call(this)},r),"f"),!0}return!1},Ae=function(){if(h(this,S,"f").size===0)return h(this,M,"f")&&clearInterval(h(this,M,"f")),v(this,M,void 0,"f"),this.emit("empty"),h(this,R,"f")===0&&this.emit("idle"),!1;if(!h(this,Q,"f")){let e=!h(this,_,"a",gr);if(h(this,_,"a",mr)&&h(this,_,"a",vr)){let r=h(this,S,"f").dequeue();return r?(this.emit("active"),r(),e&&h(this,_,"m",ut).call(this),!0):!1}}return!1},ut=function(){h(this,le,"f")||h(this,M,"f")!==void 0||(v(this,M,setInterval(()=>{h(this,_,"m",ct).call(this)},h(this,fe,"f")),"f"),v(this,xe,Date.now()+h(this,fe,"f"),"f"))},ct=function(){h(this,V,"f")===0&&h(this,R,"f")===0&&h(this,M,"f")&&(clearInterval(h(this,M,"f")),v(this,M,void 0,"f")),v(this,V,h(this,ce,"f")?h(this,R,"f"):0,"f"),h(this,_,"m",Ce).call(this)},Ce=function(){for(;h(this,_,"m",Ae).call(this););},yr=async function(e){return new Promise((r,n)=>{e.addEventListener("abort",()=>{n(new Ue("The task was aborted."))},{once:!0})})},Ie=async function(e,r){return new Promise(n=>{let i=()=>{r&&!r()||(this.off(e,i),n())};this.on(e,i)})};var si=process.env.GITHUB_ACTION_REPOSITORY,oi=process.env.GITHUB_REPOSITORY,ai=`autologin-action (by: esfalsa ${si}; user: ${ee.getInput("user_agent")} ${oi})`,ui=JSON.parse(ee.getInput("credentials")),ci=new Pr.HttpClient(ai),li=new de({concurrency:1,interval:1e3,intervalCap:1,carryoverConcurrencyCount:!0});async function fi(t,{password:e,pin:r,autologin:n}){li.add(async()=>{ee.debug(`${performance.now()}	ping start: ${t}`);let s=await(await ci.get(`https://www.nationstates.net/cgi-bin/api.cgi?nation=${t}&q=ping`,{...e&&{"X-Password":e},...r&&{"X-Pin":r},...n&&{"X-Autologin":n}})).readBody();return ee.debug(`${performance.now()}	ping end: ${t}`),s})}function hi(t){return!t||typeof t!="object"?!1:"password"in t||"pin"in t||"autologin"in t}async function di(){for(let[t,e]of Object.entries(ui))hi(e)&&await fi(t,e)}di();
